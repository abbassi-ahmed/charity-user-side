(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{4937:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[id]",function(){return n(1423)}])},1423:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(4051),s=n.n(r),a=n(5893),c=n(3816),o=n(3620),i=n(6658),u=(n(5839),n(7914)),f=n(2251),l=n(7294),p=n(1163),h=n(7066);function d(e,t,n,r,s,a,c){try{var o=e[a](c),i=o.value}catch(u){return void n(u)}o.done?t(i):Promise.resolve(i).then(r,s)}function v(){var e=(0,p.useRouter)().query.id,t=(0,l.useState)(null),n=t[0],r=t[1],v=(0,l.useState)([]),x=v[0],j=v[1],m=(0,l.useState)({}),w=m[0],k=m[1],_=(0,l.useState)(!0),g=_[0],E=_[1],y=(0,l.useState)(null),b=y[0],Z=y[1];return(0,l.useEffect)((function(){if(e){E(!0),Z(null);var t=function(){var t,n=(t=s().mark((function t(){var n,a,c,o,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.olympiquemnihla.com/projects/find-one/".concat(e));case 3:if((n=t.sent).ok){t.next=6;break}throw new Error("Failed to fetch project");case 6:return t.next=8,n.json();case 8:a=t.sent,r(a),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Z(t.t0.message);case 15:return t.prev=15,t.next=18,h.Z.get("https://api.olympiquemnihla.com/projects/find-all");case 18:if(c=t.sent){t.next=21;break}throw new Error("Failed to fetch other projects");case 21:o=c.data.filter((function(t){return t.id!==parseInt(e,10)})),j(o),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(15),Z(t.t1.message);case 28:return t.prev=28,t.next=31,fetch("https://api.olympiquemnihla.com/project-donation/get-sum-of-donations/".concat(e));case 31:if((i=t.sent).ok){t.next=34;break}throw new Error("Failed to fetch sum of donations");case 34:return t.next=36,i.json();case 36:u=t.sent,k(u),t.next=43;break;case 40:t.prev=40,t.t2=t.catch(28),Z(t.t2.message);case 43:return t.prev=43,E(!1),t.finish(43);case 46:case"end":return t.stop()}}),t,null,[[0,12],[15,25],[28,40,43,46]])})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function c(e){d(a,r,s,c,o,"next",e)}function o(e){d(a,r,s,c,o,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}();t()}}),[e]),g?(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh",width:"100%"},children:(0,a.jsx)("div",{className:"pageLoader"})})]}):b?(0,a.jsxs)("div",{children:["Error: ",b]}):(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(f.Z,{title:"Single Project",page:"Explore"}),(0,a.jsx)(i.Z,{project:n,sum:w}),x.length>0&&(0,a.jsx)(u.Z,{projects:x})]})}}},function(e){e.O(0,[976,716,66,665,120,342,852,839,774,888,179],(function(){return t=4937,e(e.s=t);var t}));var t=e.O();_N_E=t}]);