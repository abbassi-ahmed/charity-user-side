(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(3300)}])},3816:function(e,a,r){"use strict";var t=r(5893),n=r(5200),i=r(2415),s=(r(7294),r(682)),l=r(1608),c=r(1555),o=r(1468),d=r(4394),u=(r(1664),n.ZP.logo),m=n.ZP.navItems,h=n.ZP.phone,f=n.ZP.icon,j=n.ZP.email,p=n.ZP.address,x=n.ZP.socials,v=n.ZP.navDefault;a.Z=function(e){var a=e.className,r=void 0===a?"":a,n=(0,i.Z)(160).scrollTop;return(0,t.jsxs)("header",{className:"header-area ".concat(r),children:[(0,t.jsx)(s.Z,{children:(0,t.jsx)(l.Z,{children:(0,t.jsx)(c.Z,{lg:12,children:(0,t.jsxs)("div",{className:"header-top d-flex justify-content-between align-items-center",children:[(0,t.jsx)("div",{className:"header-info",children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"mailto:".concat(j),children:[(0,t.jsx)("i",{className:"flaticon-email"})," ",j]})}),(0,t.jsx)("li",{children:(0,t.jsxs)("a",{href:"#",children:[(0,t.jsx)("i",{className:"flaticon-placeholder"})," ",p]})})]})}),(0,t.jsx)(d.Z,{socials:x})]})})})}),(0,t.jsx)("div",{className:"main-header".concat(n?" sticky":""),children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(o.Z,{logo:u,navItems:m,navDefault:v,icon:f,phone:h})})})]})}},2251:function(e,a,r){"use strict";var t=r(5893),n=r(8172),i=(r(7294),r(682)),s=r(1608),l=r(1555),c=r(8129);a.Z=function(e){var a=e.title,r=void 0===a?"":a,o=e.page,d=void 0===o?"":o,u=e.parent,m=void 0===u?"":u;return(0,t.jsx)("section",{className:"page-title-area bg_cover",style:{backgroundImage:"url(".concat(n.default.src,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{children:(0,t.jsx)(l.Z,{lg:12,children:(0,t.jsxs)("div",{className:"page-title-content",children:[(0,t.jsx)("h3",{className:"title",children:r}),(0,t.jsx)("nav",{"aria-label":"breadcrumb",children:(0,t.jsxs)("ol",{className:"breadcrumb",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(c.Z,{href:"/",children:"Home"})}),m&&(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:m}),(0,t.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:d||r})]})})]})})})})})}},3300:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return x}});var t=r(5893),n=r(3816),i=r(3620),s=r(7294),l=r(682),c=r(2914),o=r(3680),d=r(9603),u=r(9417),m=r(5675),h=r.n(m);function f(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}var j=function(){var e=(0,s.useState)(null),a=e[0],r=e[1],n=(0,s.useState)({firstName:"",lastName:"",email:""}),i=n[0],m=n[1],j=(0,s.useState)(null),p=j[0],x=j[1],v=(0,s.useState)(!0),N=v[0],b=v[1];(0,s.useEffect)((function(){var e=localStorage.getItem("token");e&&fetch("http://194.164.54.216:3636/users/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return e.json()})).then((function(e){r(e),m({firstName:e.firstName,lastName:e.lastName,email:e.email}),b(!1)})).catch((function(e){console.error("Error fetching user data:",e),b(!1)}))}),[]);var Z=function(e){var a=e.target,r=a.name,t=a.value;m(function(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(a){f(e,a,r[a])}))}return e}({},i,f({},r,t)))};return N?(0,t.jsx)("div",{children:"Loading..."}):(0,t.jsxs)(l.Z,{className:"profile-container",children:[(0,t.jsx)("h2",{children:"Edit Profile"}),(0,t.jsxs)(c.Z,{onSubmit:function(e){e.preventDefault();localStorage.getItem("token");var t=new FormData;t.append("firstName",i.firstName),t.append("lastName",i.lastName),t.append("email",i.email),p&&t.append("avatar",p),fetch("http://194.164.54.216:3636/users/update/".concat(a.id),{method:"PUT",headers:{},body:t}).then((function(e){return e.json()})).then((function(e){r(e),alert("Profile updated successfully!")})).catch((function(e){console.error("Error updating profile:",e),alert("Failed to update profile.")}))},children:[(0,t.jsxs)(c.Z.Group,{controlId:"formFirstName",children:[(0,t.jsx)(c.Z.Label,{children:"First Name"}),(0,t.jsx)(c.Z.Control,{type:"text",name:"firstName",value:i.firstName,onChange:Z,required:!0})]}),(0,t.jsxs)(c.Z.Group,{controlId:"formLastName",children:[(0,t.jsx)(c.Z.Label,{children:"Last Name"}),(0,t.jsx)(c.Z.Control,{type:"text",name:"lastName",value:i.lastName,onChange:Z,required:!0})]}),(0,t.jsxs)(c.Z.Group,{controlId:"formEmail",children:[(0,t.jsx)(c.Z.Label,{children:"Email"}),(0,t.jsx)(c.Z.Control,{type:"email",name:"email",value:i.email,onChange:Z,required:!0})]}),(0,t.jsxs)(c.Z.Group,{controlId:"formAvatar",children:[(0,t.jsx)(c.Z.Label,{children:"Upload Avatar"}),(0,t.jsx)(c.Z.Control,{type:"file",name:"avatar",onChange:function(e){var a=e.target.files[0];x(a)}})]}),a&&a.avatar&&(0,t.jsx)("div",{className:"avatar-preview",children:(0,t.jsx)(h(),{src:a.avatar,alt:"Avatar Preview",width:100,height:100,style:{borderRadius:"50%",objectFit:"cover"}})}),(0,t.jsxs)(o.Z,{variant:"primary",type:"submit",className:"mt-3",children:[(0,t.jsx)(d.G,{icon:u.r6l})," Save Changes"]})]})]})},p=r(2251),x=function(){return(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(n.Z,{}),(0,t.jsx)(p.Z,{title:"Profile"}),(0,t.jsx)(j,{})]})}}},function(e){e.O(0,[976,716,408,662,774,888,179],(function(){return a=9344,e(e.s=a);var a}));var a=e.O();_N_E=a}]);